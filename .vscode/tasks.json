{
  "tasks": [
    {
      "type": "shell",
      "label": "make debug",
      "command": "cd ${fileDirname} && make d",
      "group": "build"
    },
    {
      "type": "shell",
      "label": "build debug",
      "command": "mkdir -p build && g++ -DLOCAL -g -std=c++20 ${fileBasename} -o build/${fileBasenameNoExtension}.out",
      "options": {
        "cwd": "${fileDirname}"
      },
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "presentation": {
        "reveal": "silent",
        "focus": true,
        "showReuseMessage": false,
      }
    },
    {
      "type": "shell",
      "label": "build and test",
      "command": "./test build/${fileBasenameNoExtension}.out",
      "options": {
        "cwd": "${fileDirname}"
      },
      "group": {
        "kind": "test",
        "isDefault": true
      },
      "dependsOn": [
        "build debug"
      ],
      "presentation": {
        "reveal": "always",
        "focus": true,
        "showReuseMessage": false
      }
    },
    {
      "type": "shell",
      "label": "test",
      "command": "./test build/${fileBasenameNoExtension}.out",
      "options": {
        "cwd": "${fileDirname}"
      },
      "group": {
        "kind": "test",
        "isDefault": true
      },
      "presentation": {
        "reveal": "always",
        "focus": true,
        "showReuseMessage": false
      }
    },
    {
      "type": "shell",
      "label": "run",
      "command": "build/${fileBasenameNoExtension}.out",
      "options": {
        "cwd": "${fileDirname}"
      },
      "dependsOn": [
        "build debug"
      ],
      "presentation": {
        "reveal": "always",
        "focus": true,
        "showReuseMessage": false
      }
    },
    // {
    //   "type": "cppbuild",
    //   "label": "C/C++: g++ build active file",
    //   "command": "/usr/bin/g++",
    //   "args": [
    //     "-fdiagnostics-color=always",
    //     "-g",
    //     "${file}",
    //     "-o",
    //     "${fileDirname}/build/${fileBasenameNoExtension}"
    //   ],
    //   "options": {
    //     "cwd": "${fileDirname}"
    //   },
    //   "problemMatcher": [
    //     "$gcc"
    //   ],
    //   "group": {
    //     "kind": "build",
    //     // "isDefault": true
    //   },
    //   "detail": "Task generated by Debugger."
    // }
  ],
  "version": "2.0.0"
}
